# Guia de Desenvolvimento Local\n\nEste documento descreve como configurar e executar o projeto localmente para desenvolvimento.\n\n## Pr√©-requisitos\n\n- Node.js 18+ ([Download](https://nodejs.org/))\n- pnpm 10+ (`npm install -g pnpm`)\n- Git\n- Docker e Docker Compose (opcional, para banco de dados)\n- Editor de c√≥digo (VS Code recomendado)\n\n## Setup Inicial\n\n### 1. Clonar o Reposit√≥rio\n\n```bash\ngit clone https://github.com/seu-usuario/metas-management-system.git\ncd metas-management-system\n```\n\n### 2. Instalar Depend√™ncias\n\n```bash\npnpm install\n```\n\n### 3. Configurar Banco de Dados\n\n#### Op√ß√£o A: Usar Docker Compose (Recomendado)\n\n```bash\n# Iniciar servi√ßos\ndocker-compose up -d\n\n# Verificar status\ndocker-compose ps\n\n# Acessar phpMyAdmin em http://localhost:8080\n# Usu√°rio: root\n# Senha: root\n```\n\n#### Op√ß√£o B: MySQL Local\n\n```bash\n# Criar banco de dados\nmysql -u root -p -e \"CREATE DATABASE metas_management;\"\n\n# Ou no MySQL Workbench:\n# CREATE DATABASE metas_management;\n```\n\n### 4. Configurar Vari√°veis de Ambiente\n\n```bash\n# Copiar arquivo de exemplo\ncp .env.example .env.local\n\n# Editar com suas credenciais\n# DATABASE_URL deve apontar para seu banco local\n```\n\n**Para Docker Compose:**\n```env\nDATABASE_URL=mysql://metas_user:metas_password@localhost:3306/metas_management\n```\n\n**Para MySQL Local:**\n```env\nDATABASE_URL=mysql://root:sua_senha@localhost:3306/metas_management\n```\n\n### 5. Executar Migra√ß√µes\n\n```bash\npnpm db:push\n```\n\n### 6. Iniciar Servidor de Desenvolvimento\n\n```bash\npnpm dev\n```\n\nAcesse `http://localhost:3000` no navegador.\n\n## Estrutura de Desenvolvimento\n\n### Frontend (React + Vite)\n\n```bash\n# Desenvolvimento\npnpm dev\n\n# Build\npnpm build\n\n# Preview do build\npnpm preview\n```\n\n**Localiza√ß√£o:** `client/src/`\n\n### Backend (Express + tRPC)\n\n**Localiza√ß√£o:** `server/`\n\nO servidor Express √© iniciado automaticamente com `pnpm dev` e recarrega em tempo real.\n\n### Banco de Dados (Drizzle ORM)\n\n```bash\n# Gerar migra√ß√µes\ndrizzle-kit generate\n\n# Aplicar migra√ß√µes\ndrizzle-kit migrate\n\n# Ambos (recomendado)\npnpm db:push\n\n# Abrir Drizzle Studio (UI para banco)\npnpm db:studio\n```\n\n**Localiza√ß√£o:** `drizzle/schema.ts`\n\n## Workflow de Desenvolvimento\n\n### 1. Criar Nova Feature\n\n```bash\n# Criar branch\ngit checkout -b feature/minha-feature\n\n# Fazer altera√ß√µes\n# ...\n\n# Testar\npnpm test\npnpm format\npnpm check\n\n# Commit\ngit add .\ngit commit -m \"feat: adicionar minha feature\"\n\n# Push\ngit push origin feature/minha-feature\n```\n\n### 2. Adicionar Nova Tabela\n\n```ts\n// 1. Editar drizzle/schema.ts\nexport const myTable = mysqlTable(\"myTable\", {\n  id: int(\"id\").autoincrement().primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n});\n\n// 2. Executar migra√ß√£o\npnpm db:push\n\n// 3. Adicionar query helper em server/db.ts\nexport async function getMyData() {\n  const db = await getDb();\n  return db.select().from(myTable);\n}\n\n// 4. Criar procedimento tRPC em server/routers.ts\nmyFeature: router({\n  list: protectedProcedure.query(({ ctx }) => getMyData()),\n}),\n\n// 5. Usar no frontend\nconst { data } = trpc.myFeature.list.useQuery();\n```\n\n### 3. Executar Testes\n\n```bash\n# Todos os testes\npnpm test\n\n# Modo watch\npnpm test -- --watch\n\n# Teste espec√≠fico\npnpm test -- auth.logout.test.ts\n\n# Com cobertura\npnpm test -- --coverage\n```\n\n### 4. Verificar C√≥digo\n\n```bash\n# Type checking\npnpm check\n\n# Formata√ß√£o\npnpm format --check\n\n# Aplicar formata√ß√£o\npnpm format\n```\n\n## Debugging\n\n### VS Code\n\n1. Instale a extens√£o \"Debugger for Chrome\"\n2. Crie `.vscode/launch.json`:\n\n```json\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"chrome\",\n      \"request\": \"launch\",\n      \"name\": \"Launch Chrome\",\n      \"url\": \"http://localhost:3000\",\n      \"webRoot\": \"${workspaceFolder}/client\",\n      \"sourceMaps\": true\n    }\n  ]\n}\n```\n\n### Logs do Servidor\n\n```bash\n# Ver logs em tempo real\npnpm dev\n\n# Logs no console do navegador (F12)\n```\n\n### Drizzle Studio\n\n```bash\n# Abrir interface web para o banco\npnpm db:studio\n\n# Acesse http://localhost:5555\n```\n\n## Troubleshooting\n\n### Erro: \"ECONNREFUSED\" (Banco n√£o conecta)\n\n```bash\n# Verificar se Docker est√° rodando\ndocker-compose ps\n\n# Reiniciar servi√ßos\ndocker-compose restart mysql\n\n# Ou verificar MySQL local\nmysql -u root -p\n```\n\n### Erro: \"Module not found\"\n\n```bash\n# Reinstalar depend√™ncias\nrm -rf node_modules pnpm-lock.yaml\npnpm install\n```\n\n### Erro: \"Port 3000 already in use\"\n\n```bash\n# Encontrar processo usando porta 3000\nlsof -i :3000\n\n# Matar processo\nkill -9 <PID>\n\n# Ou usar porta diferente\nPORT=3001 pnpm dev\n```\n\n### Erro: \"Migration failed\"\n\n```bash\n# Verificar schema\ncat drizzle/schema.ts\n\n# Verificar migra√ß√µes\nls drizzle/*.sql\n\n# Recriar migra√ß√µes\nrm drizzle/*.sql\npnpm db:push\n```\n\n## Extens√µes Recomendadas (VS Code)\n\n- **ES7+ React/Redux/React-Native snippets** - dsznajder.es7-react-js-snippets\n- **Tailwind CSS IntelliSense** - bradlc.vscode-tailwindcss\n- **TypeScript Vue Plugin** - Vue.volar\n- **Prettier** - esbenp.prettier-vscode\n- **ESLint** - dbaeumer.vscode-eslint\n- **Thunder Client** - rangav.vscode-thunder-client (para testar APIs)\n\n## Performance\n\n### Otimizar Build\n\n```bash\n# Analisar tamanho do bundle\npnpm build -- --analyze\n\n# Ver tempo de build\ntime pnpm build\n```\n\n### Otimizar Dev Server\n\n```bash\n# Aumentar limite de watchers (Linux)\necho fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n## Limpeza\n\n```bash\n# Remover node_modules\nrm -rf node_modules\n\n# Remover build\nrm -rf dist\n\n# Parar Docker\ndocker-compose down\n\n# Remover volumes Docker\ndocker-compose down -v\n```\n\n## Pr√≥ximos Passos\n\n- Consulte `CONTRIBUTING.md` para diretrizes de contribui√ß√£o\n- Consulte `README_SETUP.md` para vis√£o geral do projeto\n- Consulte `DEPLOYMENT.md` para deploy em produ√ß√£o\n\n---\n\n**Pronto para come√ßar a desenvolver! üöÄ**\n
